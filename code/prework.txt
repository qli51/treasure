1.ip数据报文必须封装成帧才可以通过物理网络发送，因此还需要知道mac地址(物理地址)，从而保证数据报文的顺利传送
mac地址在链路或局域网中标识不同的节点(物理地址与数据链路层地址)，一般固定在网络设备中，而ip地址在整个网络中标识不同的节点(网络层地址)

2.ARP协议分为动态ARP和静态ARP，动态ARP由ARP协议通过APR报文自动生成和维护，可以被老化，可以被新的动态ARP表项更新，特可以被静态ARP表项覆盖
静态ARP表项由网络管理员手工配置生成和维护，不会老化，也不会被动态ARP表项覆盖
每个主机都具有ARP缓存表(可减小ARP操作，增加网络性能) ARP缓存表中有mac地址时，不会调用ARP请求报文查找对应ip地址所对应的mac地址，反之在没有时，才会调用ARP请求报文，将ip地址与mac地址的对应关系存在在ARP缓存中
当发送端ip地址与目的ip地址在同网段时，发送端向接收端发送ARP请求报文，接收端以单波形式返还对应mac地址，如果在不同网段，则要先请求网关mac地址，再请求接收端mac地址

3.免费ARP：免费ARP通过广播方式通告自己的地址信息(1.主动向网络通报自己MAC地址 2.可检测ip冲突)
路由器与转换器：转换器一般用于同网段之间的数据传输
路由器又可以称之为网关设备。路由器就是在OSI/RM中完成的网络层中继以及第三层中继任务，对不同的网络之间的数据包进行存储、分组转发处理，其主要就是在不同的逻辑分开网络。而数据在一个子网中传输到另一个子网中，可以通过路由器的路由功能进行处理。

4.ip地址分为网络部分和主机部分(由32位二进制数组成，分为4段，每段转换成10进制)，icmp协议是网络层的一个组成部分，常用来传递差错，控制，查询报文等信息(ping,tracert:ip路径)

5.子网掩码，网络部分为1，主机部分为0，如(255.255.255.0)，将ip地址与地址掩码进行与操作，即可获得改地址段的网络地址(主机部分全为0，广播地址主机部分全为1)

6.数据在不同链路上传输时，源和目的mac地址变化，而源和目的ip地址不发生变化

7.路由分为静态路由，动态路由，缺省路由，策略路由
动态路由协议分为距离适量协议和链路状态协议(使用dijkstra算法)
距离矢量协议(动态路由协议)：每个路由器维护着一个距离矢量表，记录着到达目的节点的最佳路线，与到达目的节点所需要的距离与时间
当形成环路或连接断裂时，就会出现无穷计算的问题，为了避免无穷计算，一般有两种解决办法
1.设置最大mertic为15跳，大于15跳即为网络不可到达，这种方法使RIP(动态路由协议)只能应用于中小网络
2.水平分割技术，路由器不会再向邻居返回一个从该邻居获取的最短路径

8.当在专用网内部的一些主机本来已经分配到了本地IP地址（即仅在本专用网内使用的专用地址），但现在又想和因特网上的主机通信（并不需要加密）时，可使用NAT方法。
NAT实现方式：1.静态NAT 2.动态NAT 3.实现端口的多路复用，即多个局域网地址对应一个公网地址，提高了ip地址的利用率

9.ipv6的地址解析过程(NS,NA都为ICMP)：
1.判断是否需要进行地址解析过程：查找每个节点的邻居缓存，如果存在对应ipv6与mac地址，则直接使用
2.当需要地址解析时，发送节点发送邻居请求(NS)：组播发送，包含要解析的ipv6地址
目标节点接收NS并处理NS，响应邻居公告(NA)，单波发送，包含目标节点mac地址
发送节点更新邻居缓存

10.衡量网络的四个指标：
吞吐，时延，新建，并发
新建与并发不同的是新建连接测试会立即结束建立的连接，而并发测试不会结束建立的连接，所有已建立的连接会一直保持直到设备的处理极限(重点为需要保持)

11.网络测试工具：
Netperf是一种网络性能的测量工具，主要针对基于TCP或UDP的传输。
RFC2544(netperf)测试指标：吞吐量，时延，丢包率，背靠背，系统恢复，复位测试

12.网络排查步骤(ifconfig通常用于查看网口是否有IP以及IP、Netmask是否正确)：
1.首先ping目标ip看看是否能ping通，观察ip返还的结果是否为destination host unreachable
2.在机器后台可以通过ifconfig和ip link查看网络网口的状态是否为up状态
3.如果网口状态已经是up状态，利用ifconfig和 ip addr命令查看网口ip与掩码是否正常
4.若网口ip与掩码正常，但却无法ping通，可以使用ip route命令查看路由表配置是否正常

13.网络排障工具：
ifconfig,ping,ethtool(查看网卡特性),ICMP(ping：检查网络是否联通,tracert：查看数据在路由上的路径),tcpdump(抓包工具，用于截获网络中数据包用于分析),wireshark(作用与tcpdump类似),
Netflow是一种思科开发的基于流的流量分析技术，通常应用在路由器以及交换机等产品上。经由分析Netflow收集到的信息，网络相关人员可以知道流量的来源以及目的、种类以及造成网络拥塞等故障的原因。
IPFIX全称为IPFlowInformationExport，意为IP流信息导出协议。IPFIX为IETF工作组根据思科Netflowv9的基础上发展而来

14.SDN的三大特点：控制与转发分离 集中式的管理 开放可编程

15.linux三大组成：内核，外壳shell，实用工具
系统内核需要具备的功能模块：进程调度，内存管理，虚拟文件系统，网络接口，进程间通信

16：mpstat:查看cpu利用率，与top区别为，top看的是平均，前者则可查看单个核cpu利用率(查看cpu资源是否充足，先用top，再用mpstat)

17：linux进程调度方法(是一组规则，决定什么时候以怎样的方式选择一个新进程运行)：SCHED-NORMAL,SCHED-FIFO,SCHED-RR
进程优先级的计算：分为静态优先级与动态优先级

18.free和vmstat都可查看内存使用情况，swap为虚拟内存(查看内存资源是否充足，使用free或vmstat查看，或者检查是否触发OOM KILLER机制)
OOM KILLER：在系统可用内存较少的情况下，内核为保证系统还能够继续运行下去，会选择杀掉一些进程释放掉一些内存

19.硬盘信息查询：lsblk

20.电脑速度慢，如何判断是否由io造成的，iostat -d -x 1(显示所有块设备的io统计)/观察iostat util/await/svctm/avgqu，进程io统计：pidstat

21.如何使用新的硬盘：
1)lsblk寻找需要格式化的硬盘
2)分区(fdisk,parted)
3)LVM(逻辑卷管理,LVM易于管理,方便扩展,管理多设备,LVCREATE):vgs、lvs、lvcreate、lvremove、lvresize
4)格式化文件系统(mkfs)
5)挂载文件系统(mount为显示所有挂载文件系统),呈现可访问的文件:mount、df、du

22.文件系统突然被占满，如何判断是谁占的：df -h(df可用于定位空间不足) du -d1(可实现指定目录下空间的占用查询,d1为只统计一级目录)

23.如果分区没对齐，硬盘会产生什么样的行为：硬盘util容易百分之百(util指标确定磁盘是否达到带宽或iops极限)

24.硬盘被格式化后，数据是否可以找回：格式化改变的区域为超级块，真实数据存储在数据块，没有被破坏，除了文件粉碎外，基本都可以进行数据的找回

25.云存储主要分为私有云,托管云,公有云(混合云可集成三个,从而满足不同的需求)

26.hypervisor:虚拟机器监视器(virtual machine monitor,VMM)  KVM：一个开源的VMM  qemu:虚拟操作系统模拟器

27.VA转换成PA的作用：人们之所以要创建一个虚拟地址空间，目的是为了解决进程物理地址空间隔离的问题。但程序要想执行，必须运行在真实的内存上，所以，必须在虚拟地址与物理地址间建立一种映射关系。这样，通过映射机制，当程序访问虚拟地址空间上的某个地址值时，就相当于访问了物理地址空间中的另一个值。

28.计算虚拟化：

1)CPU虚拟化：虚拟化分为两个调度，第一个为VMM负责vCPU在pCPU上的调度，第二个为客户OS负责线程在vCPU上的调度
虚拟机不可直接感知物理CPU,只能看见VMM呈现给他们的虚拟CPU，在hypervisor中，一个VCPU对应一个虚拟机控制结构，用于切换时内容的保存

2)内存虚拟化：虚拟机管理器维护一套页表用于PA(物理地址,由hypervisor抽象的虚拟机的尾部地址)到机器地址(MA，真实的机器地址)的映射
虚拟机操作系统同样维护一套页表用于VA(虚拟地址，虚拟机提供给应用程序的线性地址空间)到PA的映射,顺序为VA-PA-MA

3)磁盘虚拟化：当虚拟机的操作系统读写磁盘时，会以扇区的方式传递指令，通过求模运算都出逻辑区块地址值，然后qemu将地址值翻译成特有格式qcow2(虚拟磁盘的镜像文件)
用L1与L2记录，L1记录描述了L1的位置和偏移，L2描述了实际数据的位置和偏移

4)NUMA优化原理:在CPU负载均衡的条件下，尽可能让CPU直接访问本地内存而非远地内存，从而节省QPI时间，在虚拟机中，qemu把虚拟节点绑定在某个物理CPU上，并绑定对应的内存

5)热迁移：业务不中断情况下，把虚拟机从一台物理机迁移到另一台物理机上，两次迁移，一次激活
虚拟机只迁移位置:只需将虚拟机内存状态迁移到目的主机，与带宽性能有关，迁移完成后，原主机工作停止
虚拟机跨存储：跨位置迁移:迁移服务先将虚拟机镜像文件进行迁移
跨集群的在线迁移：与跨存储，跨位置原理一致，热压缩技术使效率提高了一倍

6)DRS动态资源调度技术：通过引入一个自动化机制，持续地动态平衡资源，将虚拟机迁移到更多资源的主机上，确保每个虚拟机能及时调度相应资源，保障业务系统的性能
客户可自定义调度策略:调度方式(手动，自动)+衡量因素(CPU，内存)+敏感度(保守，激进)组成

7)DRX动态资源扩展技术：可实现动态资源(CPU，内存，网卡)的自动热添加

8)快照实现过程：每次需在特定位置写入新数据时，先将特定位置数据进行拷贝后更改，并将指针指向拷贝出来的位置

9)克隆：虚拟机克隆后两者成为两个独立实体，没有任何关联，不与原虚拟机共享任何磁盘空间

10)派生：从模板派生的虚拟机，系统盘是共享的(但更改数据时，不会影响其他虚拟机的数据)，可以再添加自己独立的数据盘，且派生出的虚拟机与模板虚拟机存在关联关系

11)虚拟机HA：实现高可用，无需复杂的集群解决方案，减小硬件使用并提高保护力度

29.网络攻击的主要流程：踩点，定位，入侵，留后门，抹去痕迹

30.容灾：RPO：数据恢复时间(以数据为出发点，能够容忍的数据丢失量) RTO：应用恢复时间(以应用为出发点，能够容忍的应用系统恢复时间)

31.存储虚拟化：aSAN主要特征：1)分布式存储架构 2)多卷管理，满足不同IO需求 3)多副本，靠可靠恢复能力 4)横向平滑扩展容量和性能 5)SSD缓存和分层提升性能 6)融入计算网络管理平台

32.aSAN存储架构的组成(分布式存储架构具有扩展方便的优点)：
1)VS客户端：负责向上层提供存储接口，称为客户端
2)VS服务端：负责处理底层磁盘IO，称为服务端
3)SSD缓存盘：为IO提供缓存分层空间(热存储)，提高效率，一般存储热数据，快满时，系统把不常用的数据写到大容量的HDD
4)HDD数据盘：数据固化位置，在跨主机之间以多副本形式存在，速度偏慢，容量大，一般存储冷数据
5)存储私网：客户端与服务端的通信网络，若是跨主机通信则需要存储私网
6)读缓存模块：当有IO访问时，首先从读缓存模块访问数据
7)分层模块：负责将热数据存储在SSD层中，并维护分层数据完整性

33.aSAN虚拟共享盘与磁盘故障后的数据重建：
虚拟共享盘，实现了两副本，当一方出现故障时，可实现快速重建
1)磁盘故障时，虚拟机不受影响，通过另一个副本进行IO操作，会预留30min来检测是否真的发生故障，若只是松动造成离线，只需重启后进行数据修复即可
磁盘故障后，将触发数据重建，采用IO多并发，从多个磁盘进行读取并往对应目的磁盘进行写入，实现了快速重建
2)服务器故障时，预设4个小时检测时间(与磁盘不同)，HA机制发动，几分钟后，虚拟机在其他主机自动重新启动，并访问剩下的一个副本，业务继续运行
服务机故障后，将触发数据重建，采用IO多并发，从多个磁盘进行读取并往对应目的磁盘进行写入，实现了快速重建

34.实现高IO的技术：1)条带技术：把一块连续的数据块切成很多小块进行存储，充分利用多块磁盘并发读写提升性能  2)IO本地化技术：优先访问聚合副本而非散列副本，本地虚拟机读数据不需要经过网络

35.虚拟iscsl存储：1)能够为外部主机提供数据备份资源 2)提供保障机制，一个节点故障时，切换到另一个iscsl节点 3)提供负载均衡，减少单台aSAN主机的io压力

36.延伸集群：两副本一个存储在本地机房，一个存储在异地机房，解决了机房出现问题的情况，当任一机房出现故障，虚拟机可以HA到另一个机房

37.网络虚拟化：在物理网络基础上，通过隧道技术创造多个虚拟网络，虚拟网络逻辑上彼此隔离，但共享相同的底层承载网络。
物理网络向云和虚拟化的深度延伸，网络资源的池化能力可以摆脱物理网络的限制

38.aNET组件：分布式虚拟交换机(DVS)，虚拟路由器，分布式防火墙

39.NFV组件：vNGAF(虚拟防火墙)，vSSL，vAD(负载均衡)，vWOC(应用加速，容灾优化)，各安全产品以虚拟机的形式运行在超融合平台上，提供跟物理设备一样的安全功能

40.网络性能优化：intel DPDK：引入DPDK之后，解决内核驱动瓶颈，对上层协议栈做优化。通过数据局部化，NUMA绑定、极大降低原子操作，cache line对齐等优化方式

41.常见的网络攻击方式：中间人攻击，网络钓鱼，网页篡改，DDOS攻击

42.什么是cc攻击，和ddos攻击是什么关系：
CC攻击的原理就是攻击者控制某些主机不停地发大量数自据包给对方服务器造成服务器资源耗尽，一直到宕机崩溃。
ddos攻击指借助于客户/服务器技术，将多个计算机联合起来作为攻击平台，对一个或多个目标发动攻击，从而成倍地提高拒绝服务攻击的威力。
ddos攻击和cc攻击区别主要是针对对象的不同。ddos是主要针对IP的攻击，而CC攻击的主要是网页。
CC攻击相对来说，攻击的危害不是毁灭性的，但是持续时间长;而ddos攻击就是流量攻击，这种攻击的危害性较大，通过向目标服务器发送大量数据包，耗尽其带宽，更难防御。

43.网络安全(idc)分类：硬件，服务，软件

44.容灾与备份：一般意义上，容灾指的是不在同一机房的数据或应用系统备份，备份指的是本地的数据或系统备份。通常说的灾备是将容灾与备份结合，即本地备份结合数据复制实现完善的数据保护

45.断点续传：当信息丢失时，不必从投开始传，可从丢失处开始传  增量回迁：只回迁在备站点产生的增量数据(识别差异，从差异处开始回迁)

46.CDP(主要用于连续数据保护与恢复)：对指定虚拟机开始实时CDP保护，通过IO镜像方式跟踪记录虚拟机IO变更情况，当虚拟机数据丢失或出现故障时，可使用备份的任意历史点进行恢复
根据BP(基准点)与RP(恢复点)进行数据的恢复，相比虚拟机备份，具有更低的RPO，需要较高的性能

47.aSV的快速备份：1)快照备份：快照备份在备份时需先进行一次快照，首次全量备份+非首次快照对比增量备份，数据写入时采用写时复制机制。
快照备份在备份过程中，原始基于qcow2备份的性能极不稳定，而且多次备份后性能严重下降，且不可恢复
2) 快速备份/bitmap备份：1)全量备份 2)直接写入新数据，写入的地方bitmap置为1，下次需要备份时，只备份bitmap为1的地方并重新置为0 3)删除增备文件，数据向后合并
快速备份在首次全量备份、第二次增量备份的过程中，原始基于qcow2的备份只出现少许性能下降，而在备份结束后，即迅速恢复到了初始水平。

48.快照：在虚拟机业务做重大变更前打个快照，保护现有数据，变更后如果出现问题可以及时回滚
快速恢复步骤：1)拉起虚拟机 2)优先恢复热数据 3)陆续恢复冷数据

49.压缩，加密，种子文件：通过秒级备份和快速恢复技术实现了秒级RPO和更低的RTO

50.CDP恢复技术：提取恢复点RP之前的所有BP，与最近BP与恢复点之间的所有RP(包括恢复点)，并进行叠加后得出恢复后的结果

51.应用层：提供应用网络接口  传输层：实现端到端的连接  网络层：寻址和路由选择  数据链路层：物理介质访问  物理层：二进制数据流传输 

52.TCP可把太长的数据块划分短一些再传送。TCP也可等待积累有足够多的字节后再构成报文段发送出去

53.拥塞控制：
1)乘法减小：是指不论在慢开始阶段还是拥塞避免阶段，只要出现一次超时（即出现一次网络拥塞），就把慢开始门限值ssthresh设置为当前的拥塞窗口值乘以0.5
2)加法增大:是指执行拥塞避免算法后，在收到对所有报文段的确认后（即经过一个往返时间），就把拥塞窗口cwnd增加一个MSS大小，使拥塞窗口缓慢增大，以防止网络过早出现拥塞。

54.数据帧在不同链路上传输时，源和目的MAC地址变化，而源和目的IP地址不变

55.IPv6地址=前缀(4个4位)+接口标识(4个4位)

56.IPV6表达方式：首选格式，压缩格式与内嵌ipv4地址

压缩格式：1)若以零开头可以省略，连续全零的组可用“::”表示 2)一个地址中::只能出现一次 3)地址前缀长度用“/xx”来表示 4)2001:410   ::1::45ff/64错误

57.ipv6地址分类：单播地址，组播地址(节点不知道其它节点或者网络任何信息的时候，可以通过组播地址来进行通信)，任播地址

58.我知道对方的IP地址，但不知道它的MAC地址，我怎么样才能把数据发给它呢？
方案1：全节点组播？可以，但是范围太广，没有用到已知的IP地址信息。
方案2：我知道对方肯定加入了这个IP地址所对应的被请求节点地址的组播组，那么我可以向这个组播组发送，这样缩小了组播的范围。

59.地址重复检测:
节点发送NS，其中包含要检测的IPv6地址,如果收到相应的NA，则检测到重复，节点不会使用重复的地址，否则开始使用该IPv6地址

60.新建：新建通常指新建连接速率，从字面意思理解即每秒能处理的TCP链接个数。 并发：通常指并发连接数，从字面意思理解即能同时处理的连接会话个数。

61.Netperf是一种网络性能的测量工具，主要针对基于TCP或UDP的传输。

62.ACL是访问控制列表的意思。它的主要作用是过滤掉外面没有授权的IP地址来访问内部的资源从而做到让内部主机或服务器更安全。访问控制列表主要是在路由器上回配置的，你首先要配置一个地址池pool把你允许访问内部的IP地址放入池内其它地址过滤掉。

63.为什么需要定义这么多组播地址：节点不知道其它节点或者网络任何信息的时候，可以通过组播地址来进行通信

64.怎么提升性能，什么对稳定性有关系，容灾

65.SNAT是指在数据包从网卡发送出去的时候，把数据包中的源地址部分替换为指定的IP，这样，接收方就认为数据包的来源是被替换的那个IP的主机
DNAT，就是指数据包从网卡发送出去的时候，修改数据包中的目的IP，表现为如果你想访问A，可是因为网关做了DNAT，把所有访问A的数据包的目的IP全部修改为B，那么，你实际上访问的是B

66.常见的攻击技术：监听，DDOS，扫描，入侵，木马，注入，APT
常见的防御技术：数据加密，防火墙，IDS，WAF

67.邻居(位于同一条链路上的节点互为邻居)发现：一系列用于确定邻居节点的关系，获得邻居节点信息以及子网信息的消息和过程
主要功能：1)地址解析 2)地址重复检测 3)路由器发现 4)路由器重定向

68.ICMPv6消息(用于邻居发现)类型
错误消息：中间路由器或者目的节点报告IPv6分组转发或者投递过程的错误，ICMPv6类型域的值为0～127（最高比特为0）
信息消息：提供诊断功能和额外的主机功能，例如组播和邻居发现，ICMPv6类型域的值为128～255（最高比特为1）

69.linux内核功能：
1)进程调度 2)内存管理 3)虚拟文件系统 4)网络接口 5)进程间通信

70.CPU硬件信息查询: 1)processor:当前CPU号 2)model name：型号 3)cpu MHz：主频

71.pmap:查看进程的内存分布情况

72.存储性能指标:IOPS(每秒处理io次数)，时延(每个io处理时间)，吞吐(每秒处理io速率)

73.netstat命令是一个监控TCP/IP网络的非常有用的工具，它可以显示路由表、实际的网络连接以及每一个网络接口设备的状态信息
ip可查找文件传输的ip路径与获取指定路由或接收机信息

74.NFV负责各种网元的虚拟化，而SDN负责网络本身的虚拟化（比如，网络节点和节点之间的相互连接）

75.内存读缓存：使用内存做读缓存，提高虚拟机的读性能

76.云计算小结：
1)大页内存、vNUMA：提升虚拟机计算性能。
2)热迁移，热升级，HA，DRS，DRX：提升虚拟机业务的可靠性和连续性。
3)快照：在虚拟机业务做重大变更前打个快照，保护现有数据，变更后如果出现问题可以及时回滚。
4)克隆：复制虚拟机，部署新业务。
5)派生：快速大量的部署虚拟机，常用于开发测试云，桌面云。

77.网络虚拟化的无状态分布式设计可以支持横向扩展、高并发、高可用以及负载均衡

78.网络安全分类：
1)idc：软件，服务，硬件
2)中国网络安全市场分类法：网络安全产品，新场景和新技术，网络安全服务
3)安全牛：基础设施安全，终端安全等等

79.全网行为管理体系：1)准入统一认证 2)全网行为权限管控 3)全网行为审计可视 4)全网行为风险分析

80.更好的远程接入解决方案：VPN：VirtualPrivateNetwork（虚拟专用网络），依靠ISP（互联网服务提供商）提供的公网线路，建立专用数据通信网络的技术
VPN可以通过远程连接，把分散在各地的分支、个人虚拟在同一个局域网环境，可使用SSL在Internet上建立专用网络，进行加密通讯，防止被窃取
